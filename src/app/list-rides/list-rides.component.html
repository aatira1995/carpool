<div class="container">
  <h1>{{ appConstants.staticPageContent.rides }}</h1>
  <div class="row">
    <div class="col-md-12">
      <div class="panel panel-primary">
        <div class="panel-heading">
          <button class="btn btn-default float-right" (click)="linkToOfferRide()">{{ appConstants.staticPageContent.add }}</button>
          <h3 class="panel-title">{{ appConstants.staticPageContent.offerRidesTableTitle }}</h3>
        </div>
        <div class="panel-body">
          <input type="text" class="form-control" id="dev-offerTable-filter" data-action="filter" data-filters="#dev-offerTable" />
        </div>
        <table class="table table-hover" id="dev-offerTable">
          <thead>
            <tr>
              <th>{{ appConstants.staticPageContent.source }}</th>
              <th>{{ appConstants.staticPageContent.destination }}</th>
              <th>{{ appConstants.staticPageContent.rideDate }}</th>
              <th>{{ appConstants.staticPageContent.offeredOn }}</th>
              <th>{{ appConstants.staticPageContent.checkpoints }}</th>
              <th>{{ appConstants.staticPageContent.active }}</th>
              <th>{{ appConstants.staticPageContent.action }}</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngIf="fetchedOfferedRides.length === 0">
              <h3>{{ appConstants.staticPageContent.noOffered }}</h3>
            </tr>
            <tr *ngFor=" let offeredRides of fetchedOfferedRides">
              <td>{{ offeredRides.fromLocation }}</td>
              <td>{{ offeredRides.toLocation }}</td>
              <td>{{ offeredRides.rideDate }}</td>
              <td>{{ offeredRides.createdOn }}</td>
              <td>{{ offeredRides.checkpoints }}</td>
              <td *ngIf="offeredRides.isActive === true">{{ appConstants.staticPageContent.isActiveTrue }}</td>
              <td *ngIf="offeredRides.isActive === false">{{ appConstants.staticPageContent.isActiveFalse }}</td>
              <td>
                <button class="btn btn-primary btn-xs " (click)="getBookedUsers(offeredRides.id)">{{ appConstants.staticPageContent.statusButton }}</button>
                <button class="btn btn-danger btn-xs " (click)="passOfferedRideId(offeredRides.id)">{{ appConstants.staticPageContent.deleteButton }}</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <button #listBookedModal data-toggle="modal" data-target="#bookedUsersModal" [hidden]="hideModalButton"></button>
    <div id="bookedUsersModal" class="modal" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title"> {{ appConstants.staticPageContent.usersBookedTitle }}</h4>
            <button type="button" class="close" data-dismiss="modal">&times;</button>
          </div>
          <div class="modal-body">
            <div *ngIf="bookedUsers">
              <div class="mx-5 btn-lg m-3 mb-0 float-left text-white common-background" *ngFor="let users of bookedUsers">
                {{ appConstants.staticPageContent.name }}: {{users.name}}
                <br> {{ appConstants.staticPageContent.email }}: {{users.email}}
                <br> {{ appConstants.staticPageContent.number }}: {{users.phone}}
                <br> {{ appConstants.staticPageContent.address }}: {{users.address}}
                <br>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <button #noBookedModal data-toggle="modal" data-target="#noBookedUsersModal" [hidden]="hideModalButton"></button>
    <div id="noBookedUsersModal" class="modal" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title"> {{ appConstants.staticPageContent.usersBookedTitle }}</h4>
            <button type="button" class="close" data-dismiss="modal">&times;</button>
          </div>
          <div class="modal-body">
            <p>{{ appConstants.staticPageContent.noUsersBooked }}</p>
            <button class="btn btn-primary btn-sm" (click)="passOfferRideId()" data-dismiss="modal">{{ appConstants.staticPageContent.editButton }}</button>
          </div>
        </div>
      </div>
    </div>

    <button #deleteOfferModal data-toggle="modal" data-target="#confirmDeleteOfferModal" [hidden]="hideModalButton"></button>
    <div id="confirmDeleteOfferModal" class="modal" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-body">
            <h3>{{ appConstants.staticPageContent.confirmRideDeleteMessage }}</h3>
            <button class="btn btn-primary btn-sm" data-dismiss="modal">{{ appConstants.staticPageContent.deleteNo }}</button>
            <button class="btn btn-primary btn-sm" (click)="deleteOfferedRide()" data-dismiss="modal">{{ appConstants.staticPageContent.deleteYes }}</button>
          </div>
        </div>
      </div>
    </div>

    <div class="col-md-12">
      <div class="panel panel-primary">
        <div class="panel-heading">
          <button class="btn btn-default float-right" (click)="linkToBookRide()">{{ appConstants.staticPageContent.add }}</button>
          <h3 class="panel-title">{{ appConstants.staticPageContent.BookedRidesTableTitle }}</h3>
        </div>
        <div class="panel-body">
          <input type="text" class="form-control" id="dev-bookTable-filter" data-action="filter" data-filters="#dev-bookTable" />
        </div>
        <table class="table table-hover" id="dev-bookTable">
          <thead>
            <tr>
              <th>{{ appConstants.staticPageContent.source }}</th>
              <th>{{ appConstants.staticPageContent.destination }}</th>
              <th>{{ appConstants.staticPageContent.rideDate }}</th>
              <th>{{ appConstants.staticPageContent.offeredOn }}</th>
              <th>{{ appConstants.staticPageContent.checkpoints }}</th>
              <th>{{ appConstants.staticPageContent.active }}</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngIf="!fetchedBookedRides">
              <h3>{{ appConstants.staticPageContent.noBooked }}</h3>
            </tr>
            <tr *ngFor="let bookedRides of fetchedBookedRides">
              <td>{{ bookedRides.fromLocation }}</td>
              <td>{{ bookedRides.toLocation }}</td>
              <td>{{ bookedRides.rideDate }}</td>
              <td>{{ bookedRides.createdOn }}</td>
              <td>{{ bookedRides.checkpoints }}</td>
              <td *ngIf="bookedRides.isActive === true">{{ appConstants.staticPageContent.isActiveTrue }}</td>
              <td *ngIf="bookedRides.isActive === false">{{ appConstants.staticPageContent.isActiveFalse }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
